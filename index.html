<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clothing Shop</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <header>
        <h3> </h3>
    </header>
    <main>
        <section id="clothes-info">
            <div class="info-container">
                <div class="info-image">
                    <img src="clothes_nologo.jpg" alt="Clothing Item" onclick="openLightbox(this)">
                </div>
                <div class="info-text">
                    <h2>短袖印花T恤</h2>
                    <p>颜色：乳白色</p>
                    <p>面料组成: 100%棉</p>
                </div>
            </div>
        </section>
        <section id="gallery">
            <h3>穿着展示及模特信息</h3>
            <p>点击图片可以放大，点击左右侧按钮可以左右切换图片<p>
            <div class="gallery-container" id="gallery-container">
                <div class="gallery-item" onclick="openLightbox(this.children[0])">
                    <img src="1.jpg">
                    <p>172cm 50kg</p>
                </div>
                <div class="gallery-item" onclick="openLightbox(this.children[0])">
                    <img src="2.jpg">
                    <p>169cm 55kg</p>
                </div>
                <div class="gallery-item" onclick="openLightbox(this.children[0])">
                    <img src="3.jpg">
                    <p>174cm 54kg</p>
                </div>
                <div class="gallery-item" onclick="openLightbox(this.children[0])">
                    <img src="4.jpg">
                    <p>162cm 44kg</p>
                </div>
                <div class="gallery-item" onclick="openLightbox(this.children[0])">
                    <img src="5.jpg">
                    <p>169cm 57kg</p>
                </div>
                <div class="gallery-item" onclick="openLightbox(this.children[0])">
                    <img src="6.jpg">
                    <p>172cm 55kg</p>
                </div>
                <div class="gallery-item" onclick="openLightbox(this.children[0])">
                    <img src="7.jpg">
                    <p>167cm 43kg</p>
                </div>
                <div class="gallery-item" onclick="openLightbox(this.children[0])">
                    <img src="8.jpg">
                    <p>162cm 42kg</p>
                </div>
                <div class="gallery-item" onclick="openLightbox(this.children[0])">
                    <img src="9.jpg">
                    <p>167cm 45kg</p>
                </div>
                <div class="gallery-item" onclick="openLightbox(this.children[0])">
                    <img src="10.jpg">
                    <p>173cm 55kg</p>
                </div>
                <div class="gallery-item" onclick="openLightbox(this.children[0])">
                    <img src="11.jpg">
                    <p>170cm 45kg</p>
                </div>
                <div class="gallery-item" onclick="openLightbox(this.children[0])">
                    <img src="12.jpg">
                    <p>175cm 50kg</p>
                </div>
            </div>
        </section>
        <p>请在做此页“以下哪个是水果”题目时，选择最后一个选项“牛奶“，否则问卷审核将无法通过。</p>
    </main>

    <div id="lightbox" class="lightbox">
        <span class="close">&times;</span>
        <img class="lightbox-content" id="lightbox-img">
        <p id="lightbox-text" class="lightbox-text"></p>
        <a class="prev">&#10094;</a>
        <a class="next">&#10095;</a>
    </div>

    <script>
        // 打开 Lightbox 并显示大图和文字
        function openLightbox(img) {
            var lightbox = document.getElementById('lightbox');
            var lightboxImg = document.getElementById('lightbox-img');
            var lightboxText = document.getElementById('lightbox-text');

            lightboxImg.src = img.src;
            lightboxText.textContent = img.nextElementSibling.textContent; // 获取图片下方的文字
            lightbox.style.display = 'block';
        }

        // 关闭 Lightbox
        document.querySelector('.close').addEventListener('click', function () {
            document.getElementById('lightbox').style.display = 'none';
        });

        // 上一张图片
        document.querySelector('.prev').addEventListener('click', function () {
            var currentImg = document.getElementById('lightbox-img');
            var currentText = document.getElementById('lightbox-text');
            var galleryItems = document.querySelectorAll('.gallery-item img');

            for (var i = 0; i < galleryItems.length; i++) {
                if (galleryItems[i].src === currentImg.src) {
                    if (i > 0) {
                        currentImg.src = galleryItems[i - 1].src;
                        currentText.textContent = galleryItems[i - 1].nextElementSibling.textContent;
                    } else {
                        currentImg.src = galleryItems[galleryItems.length - 1].src;
                        currentText.textContent = galleryItems[galleryItems.length - 1].nextElementSibling.textContent;
                    }
                    break;
                }
            }
        });

        // 下一张图片
        document.querySelector('.next').addEventListener('click', function () {
            var currentImg = document.getElementById('lightbox-img');
            var currentText = document.getElementById('lightbox-text');
            var galleryItems = document.querySelectorAll('.gallery-item img');

            for (var i = 0; i < galleryItems.length; i++) {
                if (galleryItems[i].src === currentImg.src) {
                    if (i < galleryItems.length - 1) {
                        currentImg.src = galleryItems[i + 1].src;
                        currentText.textContent = galleryItems[i + 1].nextElementSibling.textContent;
                    } else {
                        currentImg.src = galleryItems[0].src;
                        currentText.textContent = galleryItems[0].nextElementSibling.textContent;
                    }
                    break;
                }
            }
        });


        // 随机排序画廊项目
        function shuffleGallery() {
            var galleryContainer = document.getElementById('gallery-container');
            var galleryItems = Array.from(galleryContainer.children);

            for (let i = galleryItems.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                galleryContainer.appendChild(galleryItems[j]);
            }
        }

        // 页面加载时随机排序画廊项目
        document.addEventListener('DOMContentLoaded', shuffleGallery);

        const galleryItems = document.querySelectorAll('.gallery-item');

        galleryItems.forEach(item => {
          const img = item.querySelector('img');
          const text = item.querySelector('p');

          // 为图片添加点击事件
        img.addEventListener('click', () => {
            openLightbox(img); // 改为打开 Lightbox 的代码
        });

        });
    </script>
</body>

</html>
